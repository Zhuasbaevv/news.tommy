<

<div class="news-card">
    <button class="del-btn" style="display:block" onclick="this.parentElement.remove();save();">–£–¥–∞–ª–∏—Ç—å</button>
    <div class="news-title">–¢–∞–∫ —Ç–∞–∫</div>
    <img src="https://www.kinopoisk.ru/series/1398913/">
    <div class="news-content"><p>–í–∏–Ω—á–µ–Ω—Ü–æ</p></div>
</div>
        
    </div>
</div>

<nav class="bottom-nav">
    <div class="nav-item active"><div>üì∞</div>NEWS</div>
    <div class="nav-item"><div>‚öΩ</div>SPORT</div>
    <div class="nav-item"><div>üè•</div>HEALTH</div>
    <div class="nav-item"><div>üöó</div>AUTO</div>
    <div class="nav-item" onclick="openAdmin()"><div>‚öôÔ∏è</div>–ú–ï–ù–Æ</div>
</nav>

<script>
    let TOKEN = "";
    const REPO = "Zhuasbaevv/news.tommy";
    let clicks = 0;

    function openAdmin() {
        clicks++;
        if (clicks === 5 || event.currentTarget.innerText === '‚öôÔ∏è–ú–ï–ù–Æ') {
            TOKEN = prompt("–í–≤–µ–¥–∏—Ç–µ GitHub Token:");
            if (TOKEN) {
                document.getElementById('admin-panel').style.display = 'block';
                document.querySelectorAll('.del-btn').forEach(b => b.style.display = 'block');
            }
            clicks = 0;
        }
    }

    async function resetAll() {
        if(confirm("–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –ø–æ—Å—Ç—ã –∏ —Å–¥–µ–ª–∞—Ç—å —Å–∞–π—Ç —á–∏—Å—Ç—ã–º?")) {
            document.getElementById('news-container').innerHTML = '';
            await save();
        }
    }

    async function post() {
        const title = document.getElementById('t').value;
        const img = document.getElementById('i').value;
        const text = document.getElementById('txt').value;
        if (!title || !text) return alert("–ó–∞–ø–æ–ª–Ω–∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ç–µ–∫—Å—Ç!");

        const html = `
<div class="news-card">
    <button class="del-btn" style="display:block" onclick="this.parentElement.remove();save();">–£–¥–∞–ª–∏—Ç—å</button>
    <div class="news-title">${title}</div>
    ${img ? `<img src="${img}">` : ''}
    <div class="news-content"><p>${text.replace(/\n/g, '<br>')}</p></div>
</div>`;

        document.getElementById('news-container').insertAdjacentHTML('afterbegin', html);
        await save();
    }

    async function save() {
        try {
            const r = await fetch(`https://api.github.com/repos/${REPO}/contents/index.html`);
            const d = await r.json();
            const code = decodeURIComponent(escape(atob(d.content)));
            
            const startTag = "";
            const parts = code.split(startTag);
            
            const newPosts = document.getElementById('news-container').innerHTML;
            const updatedCode = parts[0] + startTag + "\n" + newPosts + "\n    </div>\n</div>\n\n